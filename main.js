(()=>{var e,t,n,o,r={120:(e,t,n)=>{var o={"./clear-day.png":[630,630],"./clear-night.png":[482,482],"./clouds.png":[232,232],"./fog.png":[116,116],"./load-error.png":[439,439],"./location-pin.png":[125,125],"./magnifier.png":[304,304],"./partly-cloudy-day.png":[762,762],"./partly-cloudy-night.png":[742,742],"./rain.png":[728,728],"./snow.png":[539,539],"./wind.png":[684,684]};function r(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((()=>n.t(r,17)))}r.keys=()=>Object.keys(o),r.id=120,e.exports=r}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return r[e](n,n.exports,c),n.exports}c.m=r,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"==typeof n.then)return n}var r=Object.create(null);c.r(r);var a={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,c.d(r,a),r},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,n)=>(c.f[n](e,t),t)),[])),c.u=e=>e+".main.js",c.miniCssF=e=>{},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},o="odin-weather_app:",c.l=(e,t,r,a)=>{if(n[e])n[e].push(t);else{var i,s;if(void 0!==r)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var u=d[l];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==o+r){i=u;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.setAttribute("data-webpack",o+r),i.src=e),n[e]=[t];var m=(t,o)=>{i.onerror=i.onload=null,clearTimeout(p);var r=n[e];if(delete n[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(o))),t)return t(o)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),s&&document.head.appendChild(i)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;c.g.importScripts&&(e=c.g.location+"");var t=c.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),c.p=e})(),(()=>{var e={792:0};c.f.j=(t,n)=>{var o=c.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=r);var a=c.p+c.u(t),i=new Error;c.l(a,(n=>{if(c.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",i.name="ChunkLoadError",i.type=r,i.request=a,o[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,r,[a,i,s]=n,d=0;if(a.some((t=>0!==e[t]))){for(o in i)c.o(i,o)&&(c.m[o]=i[o]);s&&s(c)}for(t&&t(n);d<a.length;d++)r=a[d],c.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkodin_weather_app=self.webpackChunkodin_weather_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";function e(){document.querySelector(".invalidInputMsg").textContent="The location name can't be enpty."}function t(){const e=document.querySelector("#locationInput"),t=document.querySelector(".invalidInputMsg"),n=document.querySelector(".invalidBtnMsg");e.value="",t.textContent="",n.textContent=""}function n(){const e=document.querySelector(".info");a(e);const t=document.createElement("div");t.classList.add("weatherInfo");const n=document.createElement("h2");n.id="infoTitle",n.textContent="Current Weather";const o=document.createElement("div");o.classList.add("weatherContent");const r=document.createElement("div");r.classList.add("loaderContainer");const c=document.createElement("div");c.classList.add("weatherLoader"),r.appendChild(c),o.appendChild(r),t.append(n,o),e.appendChild(t)}async function o(){const e=document.querySelector(".weatherContent");a(e);const t=document.createElement("div");t.classList.add("errorContainer");const n=document.createElement("img");n.classList.add("errorImage");try{const e=await i("load-error");n.src=e,n.height=100}catch(e){throw console.log("Error happens in displayLoadError"),e}const o=document.createElement("div");o.classList.add("errorMessage"),o.textContent="Oops...some errors just happen! Maybe refresh the page or search again later.",t.append(n,o),e.appendChild(t)}async function r(e){const t=document.querySelector(".weatherContent");a(t);try{await async function(e,t){const n=document.querySelector("#switchItem"),o=document.createElement("div");o.classList.add("locationAddress"),o.textContent=t.locationAddress;const r=document.createElement("div");r.classList.add("timeData");const a=document.createElement("div");a.classList.add("recordDate"),a.textContent=t.recordDate;const c=document.createElement("div");c.classList.add("recordTime"),c.textContent=t.recordTime,r.append(a,c);const l=document.createElement("div");l.classList.add("conditionData");const u=document.createElement("div");u.classList.add("temp"),n.checked?u.textContent=`${t.temp}°C`:u.textContent=`${d(s(t.temp),1)}°F`;const m=document.createElement("div");m.classList.add("conditoinRight");const p=document.createElement("img");p.classList.add("icon");try{const e=await i(t.icon);p.src=e,p.height=50}catch(e){throw console.log("Error happens in loadWeatherElement"),e}const h=document.createElement("div");h.classList.add("tempRange");let f=null,y=null,g=null;n.checked?(f=t.todaytempMax,y=t.todaytempMin,g="°C"):(f=d(s(t.todaytempMax),1),y=d(s(t.todaytempMin),1),g="°F"),h.textContent=`${f}${g} / ${y}${g}`,m.append(p,h),l.append(u,m);const v=document.createElement("div");v.classList.add("feelData");const C=document.createElement("div");C.classList.add("feelsLike"),n.checked?C.textContent=`Feels-like: ${t.feelslike}°C`:C.textContent=`Feels-like: ${d(s(t.feelslike),1)}°F`;const w=document.createElement("div");w.classList.add("humidity"),w.textContent=`Humidity: ${t.humidity}%`,v.append(C,w);const E=document.createElement("div");E.classList.add("supplementData");const x=document.createElement("div");x.classList.add("uvIndex"),x.textContent=`UV: ${t.uvindex}`;const b=document.createElement("div");b.classList.add("windSpeed"),b.textContent=`Wind: ${t.windspeed}km/h`,E.append(x,b);const k=document.createElement("div");k.classList.add("future5Days");const $=document.createElement("h4");$.textContent="Forecast for future 5 days";const L=document.createElement("div");L.classList.add("futureDayGrid");for(let e=1;e<=5;e++){const o=document.createElement("div");o.classList.add("future-day"),o.dataset.day=e;const r=document.createElement("div");r.classList.add("future-dateTime"),r.textContent=`${t.future5Days[e-1].datetime}`;const a=document.createElement("img");a.classList.add("future-icon");try{const n=await i(t.future5Days[e-1].icon);a.src=n,a.height=30}catch(e){throw console.log("Error happens in loadWeatherElement"),e}const c=document.createElement("div");c.classList.add("future-tempRange");let l=null,u=null;n.checked?(l=t.future5Days[e-1].tempmax,u=t.future5Days[e-1].tempmin):(l=d(s(t.future5Days[e-1].tempmax),1),u=d(s(t.future5Days[e-1].tempmin),1)),c.textContent=`${l} / ${u}`,o.append(r,a,c),L.appendChild(o)}k.append($,L),e.append(o,r,l,v,E,k)}(t,e)}catch(e){throw console.log("Error happens in displayWeatherResult"),e}}function a(e){for(;e.firstChild;)e.removeChild(e.firstChild)}async function i(e){try{return(await c(120)(`./${e}.png`)).default}catch(e){throw console.log("Error happens in loadIcon"),e}}function s(e){return 1.8*e+32}function d(e,t){const n=10**t;return Number(Math.round((e+Number.EPSILON)*n)/n)}const l="D79PDB2396QBXM7JCA3DYAGB4";function u(e){return new Promise(((t,n)=>{const o=new Array(e.length);let r=0,a=null;e.forEach(((c,i)=>{Promise.resolve(c).then((e=>{o[i]=e})).catch((e=>{null===a&&(a=e)})).finally((()=>{r++,r===e.length&&(null!==a?n(a):t(o))}))}))}))}let m=null;function p(e){(async function(e){try{n();const t=e.coords.latitude,o=e.coords.longitude,r=await u([fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${t},${o}/next5days?unitGroup=metric&key=${l}`,{mode:"cors"}),fetch(`https://nominatim.openstreetmap.org/reverse?format=geojson&lat=${t}&lon=${o}`,{mode:"cors"})]);if(400===r[0].status)throw document.querySelector(".invalidBtnMsg").textContent="No matching location found.",new Error(`Error parameter for the location: ${t}, ${o}`);r.forEach((e=>{if(!e.ok)throw document.querySelector(".invalidBtnMsg").textContent="Can't fetch the weather data with network",new Error(`HTTP error! status: ${e.status}`)}));const a=await u([r[0].json(),r[1].json()]),c=a[0],i=a[1],{currentConditions:{datetime:s,temp:d,conditions:m,icon:p,feelslike:h,humidity:f,windspeed:y,uvindex:g},days:[{datetime:v,tempmax:C,tempmin:w},...E]}=c,{features:[{properties:{address:{country:x,city:b,suburb:k}}}]}=i;return{locationAddress:`${k}, ${b}, ${x}`,recordDate:v,recordTime:s,temp:d,conditions:m,icon:p,todaytempMax:C,todaytempMin:w,feelslike:h,humidity:f,windspeed:y,uvindex:g,future5Days:E}}catch(e){throw console.log("Error happens in retrieveBtnData"),e}})(e).then((e=>(m=e,console.log(m),r(e)))).then((()=>{console.log("Weather data successfully loaded")})).catch((e=>{if(console.log(e),!e.message.includes("Cannot read properties of null"))return o()}))}function h(e){const t=document.querySelector(".invalidBtnMsg");switch(e.code){case e.PERMISSION_DENIED:t.textContent="User denied the request for Geolocation.";break;case e.POSITION_UNAVAILABLE:t.textContent="Location information is unavailable.";break;case e.TIMEOUT:t.textContent="The request to get user location timed out.";break;case e.UNKNOWN_ERROR:t.textContent="An unknown error occurred."}}!function(){const a=document.querySelector("#locationInput");a.addEventListener("keydown",(function(c){"Enter"!==c.key&&13!==c.keyCode||(c.preventDefault(),""===a.value?e():async function(o){if(t(),""===o)e();else try{n();const e=await fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${o}/next5days?unitGroup=metric&key=${l}`,{mode:"cors"});if(400===e.status)throw document.querySelector(".invalidInputMsg").textContent="No matching location found.",new Error(`Error parameter for the location: ${o}`);if(!e.ok)throw document.querySelector(".invalidInputMsg").textContent="Can't fetch the weather data with network",new Error(`HTTP error! status: ${e.status}`);const t=await e.json(),{resolvedAddress:r,currentConditions:{datetime:a,temp:c,conditions:i,icon:s,feelslike:d,humidity:u,windspeed:m,uvindex:p},days:[{datetime:h,tempmax:f,tempmin:y},...g]}=t;return{locationAddress:r,recordDate:h,recordTime:a,temp:c,conditions:i,icon:s,todaytempMax:f,todaytempMin:y,feelslike:d,humidity:u,windspeed:m,uvindex:p,future5Days:g}}catch(e){throw console.log("Error happens in retrieveInputData"),e}}(a.value).then((e=>(m=e,console.log(m),r(e)))).then((()=>{console.log("Weather data successfully loaded")})).catch((e=>{if(console.log(e),!e.message.includes("Cannot read properties of null"))return o()})))}))}(),document.querySelector(".locationBtn").addEventListener("click",(function(e){e.preventDefault(),t(),navigator.geolocation?navigator.geolocation.getCurrentPosition(p,h):document.querySelector(".invalidBtnMsg").textContent="Geolocation is not supported by this browser."})),function(){const e=document.querySelector("#switchItem");e.addEventListener("change",(function(){if(m&&document.querySelector(".locationAddress")){const t=document.querySelector(".temp"),n=document.querySelector(".tempRange"),o=document.querySelector(".feelsLike"),r=document.querySelectorAll(".future-tempRange");e.checked?(t.textContent=`${m.temp}°C`,n.textContent=`${m.todaytempMax}°C / ${m.todaytempMin}°C`,o.textContent=`Feels-like: ${m.feelslike}°C`,r.forEach(((e,t)=>{e.textContent=`${m.future5Days[t].tempmax} / ${m.future5Days[t].tempmin}`}))):(t.textContent=`${d(s(m.temp),1)}°F`,n.textContent=`${d(s(m.todaytempMax),1)}°F / ${d(s(m.todaytempMin),1)}°F`,o.textContent=`Feels-like: ${d(s(m.feelslike),1)}°F`,r.forEach(((e,t)=>{e.textContent=`${d(s(m.future5Days[t].tempmax),1)} / ${d(s(m.future5Days[t].tempmin),1)}`})))}}))}()})()})();
//# sourceMappingURL=main.js.map